# Å lage release 3

I dette dokumentet drøfter vi over hva som har gått bra og hva som har gått dårlig i utviklingsprosessen av release 3.

## Hva har funket?
Pipelines har vært en stor hjelp når vi har sendt merge requests for å sikre at programmet ikke ødelegges av koden som merges. Jacoco har også hjulpet mye med å se hvilke deler av koden som mangler testing, og har gjort det lett å finne hvilke metoder som mangler testdekning. Noe som også hjalp en del var at vi delte inn i arbeidsområder på starten av innleveringen, slik at hvert gruppemedlem hadde en egen del av prosjektet de fokuserte ekstra på. To personer utviklet ui og kontroller, en person lagde REST-API, og den siste utvidet tester og skrev brukerhistorier.
I denne versjonen av appen begynte vi med å kommentere koden vår med javadoc. Slik ble det mye lettere å holde styr på funksjonene og hva de gjorde. Vi hadde også en god arbeidsvane ved å sitte sammen mens vi programmerte. Slik kunne vi raskt og effektiv få hverandre til å godta merge requester og kommentere eventuelle forbedringer.

## Hva har ikke funket?
På noen tidspunkter fikk vi veldig mange merge requests som vi ikke skulle merge enda. Dette skjedde fordi flere av merge requestene endret på de samme filene. Etter forrige innlevering ble vi enige om å lage brukerhistoriene tidlig i prosessen. Vi føler idéen var god, men siden de siste brukerhistoriene ble lagd så kort etter brukerhistoriene til innlevering 2 så ble de veldig like og dekket mye av de samme områdene. Noe som også ikke har funket særlig godt er at vi har måttet oppdatere og endre testene flere ganger av ulike grunner. Core testene måtte blant annet endres på en del ettersom kjernestrukturen gikk gjennom en ganske stor endring med implementasjonen av checklists, og flere av metodene byttet navn og virkemåte. Ui testene måtte deaktiveres store deler av denne arbeidsprosessen fordi controlleren gikk gjennom noen store endringer i hvordan den behandlet Board, Note og Checklist klassene. (Se strukturelle endringer)

Et mer teknisk problem vi støtte på, var at json ikke søtter inheritance. Slik appen fungerer nå, har et brett notater og sjekklister lagret i to ulike lister. Dette var vi nødt til å ha nettopp fordi json ikke søtter inheritance. Vi forsøkte nemlig å lagre notater og sjekklister i én liste List\<boardElement> boardElements. Problemet da var at når applikasjonen skulle hente lagret data fra fil, ville ikke lenger boardElements bli castet til notater eller sjekklister. På grunn av at vi ikke kunne lagre notater og sjekklister i samme liste, vil nå sjekklister alltid lastes før notater når man henter data fra et brett. Dette valget tok vi basert på at sjekklister antagelig vil være viktigere å ha lett tilgjengelig for brukerne enn notater, som f.eks. en handleliste.

## Strukturelle endringer
Vi endret alle getters i koden til å returnere en kopi av objektet istedenfor selve objektet. Dette gjorde vi for å sikre god innkapsling. Vi har også gjort det slik at hvert element på en oppslagstavle har en egen controller. Dette gjorde vi for å slippe å kjøre matematiske kalkulasjoner for å finne indeksen på et element hver gang det skulle gjøres endringer. Dette fungerte mye bedre enn metodene vi brukte før, men gjorde også at ui testene ble helt utdaterte.

Originalt hadde vi planer om å legge til funksjon for å "feste" notater og sjekklister, altså å velge hvilke notater og sjekklister som skal dukke opp øverst på skjermen. Denne planen forkastet vi fordi vi bestemte oss for at det var viktigere ting å fokusere på, som å lage et godt REST-API. Det samme gjelder ideen vi hadde om å legge til at brukeren kunne endre farger på notater.